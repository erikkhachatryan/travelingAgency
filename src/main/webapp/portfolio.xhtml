<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Maven project with JSF</title>
    <script src="general.js" type="text/javascript"></script>
</h:head>
<h:body>
    <f:view>
        <h:form id="deFormId">

            <ui:include src="subForms/travelingLocation.xhtml" />

            <p:commandButton id="loginButtonId" value="Login" onclick="window.location.href = '${request.contextPath}/loginForm.xhtml'"/>
            <p:commandButton id="registerButtonId" value="Register" onclick="window.location.href = '${request.contextPath}/registrationForm.xhtml'" />

        <p:dataTable id="allLocationsDataTableId"
                     value="#{generalClassifierCache.loadTravelingLocations()}"
                     editable="true"
                     var="country"
                     emptyMessage="There is no data">
            <p:column id="locationNameColumnId" headerText="Country">
                <p:commandLink id="countryNameCommandLinkId"
                               value="#{country.Name}"
                               actionListener="#{travelingLocationSubForm.prepareEditing(country)}"
                               update="deFormId:travelingLocationDialogId"
                               process="deFormId:travelingLocationDialogId"
                               oncomplete="PF('travelingLocationDialog').show();" />
            </p:column>
        </p:dataTable>

    </h:form>
    </f:view>
</h:body>
</html>
